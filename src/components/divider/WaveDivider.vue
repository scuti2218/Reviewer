<template>
  <svg
    class="wave-divider"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 1440 320"
  >
    <path
      v-show="!!props.background"
      d="M0 0 H1440 V320 H0 Z"
      :fill="state.background"
      fill-opacity="1"
      style="transform: translate(0px, 0px)"
    />

    <path
      :fill="state.outline"
      fill-opacity="1"
      d="M0,288L6.2,256C12.3,224,25,160,37,122.7C49.2,85,62,75,74,90.7C86.2,107,98,149,111,181.3C123.1,213,135,235,148,224C160,213,172,171,185,144C196.9,117,209,107,222,122.7C233.8,139,246,181,258,197.3C270.8,213,283,203,295,213.3C307.7,224,320,256,332,234.7C344.6,213,357,139,369,106.7C381.5,75,394,85,406,85.3C418.5,85,431,75,443,96C455.4,117,468,171,480,208C492.3,245,505,267,517,261.3C529.2,256,542,224,554,213.3C566.2,203,578,213,591,224C603.1,235,615,245,628,208C640,171,652,85,665,80C676.9,75,689,149,702,192C713.8,235,726,245,738,218.7C750.8,192,763,128,775,117.3C787.7,107,800,149,812,160C824.6,171,837,149,849,154.7C861.5,160,874,192,886,186.7C898.5,181,911,139,923,112C935.4,85,948,75,960,85.3C972.3,96,985,128,997,138.7C1009.2,149,1022,139,1034,122.7C1046.2,107,1058,85,1071,85.3C1083.1,85,1095,107,1108,133.3C1120,160,1132,192,1145,202.7C1156.9,213,1169,203,1182,218.7C1193.8,235,1206,277,1218,277.3C1230.8,277,1243,235,1255,218.7C1267.7,203,1280,213,1292,181.3C1304.6,149,1317,75,1329,58.7C1341.5,43,1354,85,1366,138.7C1378.5,192,1391,256,1403,272C1415.4,288,1428,256,1434,240L1440,224L1440,0L1433.8,0C1427.7,0,1415,0,1403,0C1390.8,0,1378,0,1366,0C1353.8,0,1342,0,1329,0C1316.9,0,1305,0,1292,0C1280,0,1268,0,1255,0C1243.1,0,1231,0,1218,0C1206.2,0,1194,0,1182,0C1169.2,0,1157,0,1145,0C1132.3,0,1120,0,1108,0C1095.4,0,1083,0,1071,0C1058.5,0,1046,0,1034,0C1021.5,0,1009,0,997,0C984.6,0,972,0,960,0C947.7,0,935,0,923,0C910.8,0,898,0,886,0C873.8,0,862,0,849,0C836.9,0,825,0,812,0C800,0,788,0,775,0C763.1,0,751,0,738,0C726.2,0,714,0,702,0C689.2,0,677,0,665,0C652.3,0,640,0,628,0C615.4,0,603,0,591,0C578.5,0,566,0,554,0C541.5,0,529,0,517,0C504.6,0,492,0,480,0C467.7,0,455,0,443,0C430.8,0,418,0,406,0C393.8,0,382,0,369,0C356.9,0,345,0,332,0C320,0,308,0,295,0C283.1,0,271,0,258,0C246.2,0,234,0,222,0C209.2,0,197,0,185,0C172.3,0,160,0,148,0C135.4,0,123,0,111,0C98.5,0,86,0,74,0C61.5,0,49,0,37,0C24.6,0,12,0,6,0L0,0Z"
      :stroke="state.outline"
      stroke-width="8"
      style="transform: translate(0px, 0px)"
    />
    <path
      :fill="state.fill"
      fill-opacity="1"
      d="M0,288L6.2,256C12.3,224,25,160,37,122.7C49.2,85,62,75,74,90.7C86.2,107,98,149,111,181.3C123.1,213,135,235,148,224C160,213,172,171,185,144C196.9,117,209,107,222,122.7C233.8,139,246,181,258,197.3C270.8,213,283,203,295,213.3C307.7,224,320,256,332,234.7C344.6,213,357,139,369,106.7C381.5,75,394,85,406,85.3C418.5,85,431,75,443,96C455.4,117,468,171,480,208C492.3,245,505,267,517,261.3C529.2,256,542,224,554,213.3C566.2,203,578,213,591,224C603.1,235,615,245,628,208C640,171,652,85,665,80C676.9,75,689,149,702,192C713.8,235,726,245,738,218.7C750.8,192,763,128,775,117.3C787.7,107,800,149,812,160C824.6,171,837,149,849,154.7C861.5,160,874,192,886,186.7C898.5,181,911,139,923,112C935.4,85,948,75,960,85.3C972.3,96,985,128,997,138.7C1009.2,149,1022,139,1034,122.7C1046.2,107,1058,85,1071,85.3C1083.1,85,1095,107,1108,133.3C1120,160,1132,192,1145,202.7C1156.9,213,1169,203,1182,218.7C1193.8,235,1206,277,1218,277.3C1230.8,277,1243,235,1255,218.7C1267.7,203,1280,213,1292,181.3C1304.6,149,1317,75,1329,58.7C1341.5,43,1354,85,1366,138.7C1378.5,192,1391,256,1403,272C1415.4,288,1428,256,1434,240L1440,224L1440,0L1433.8,0C1427.7,0,1415,0,1403,0C1390.8,0,1378,0,1366,0C1353.8,0,1342,0,1329,0C1316.9,0,1305,0,1292,0C1280,0,1268,0,1255,0C1243.1,0,1231,0,1218,0C1206.2,0,1194,0,1182,0C1169.2,0,1157,0,1145,0C1132.3,0,1120,0,1108,0C1095.4,0,1083,0,1071,0C1058.5,0,1046,0,1034,0C1021.5,0,1009,0,997,0C984.6,0,972,0,960,0C947.7,0,935,0,923,0C910.8,0,898,0,886,0C873.8,0,862,0,849,0C836.9,0,825,0,812,0C800,0,788,0,775,0C763.1,0,751,0,738,0C726.2,0,714,0,702,0C689.2,0,677,0,665,0C652.3,0,640,0,628,0C615.4,0,603,0,591,0C578.5,0,566,0,554,0C541.5,0,529,0,517,0C504.6,0,492,0,480,0C467.7,0,455,0,443,0C430.8,0,418,0,406,0C393.8,0,382,0,369,0C356.9,0,345,0,332,0C320,0,308,0,295,0C283.1,0,271,0,258,0C246.2,0,234,0,222,0C209.2,0,197,0,185,0C172.3,0,160,0,148,0C135.4,0,123,0,111,0C98.5,0,86,0,74,0C61.5,0,49,0,37,0C24.6,0,12,0,6,0L0,0Z"
      style="transform: translate(0px, 0px)"
    />

    <path
      d="M0 0 H1440 V8 H0 Z"
      :fill="state.fill"
      fill-opacity="1"
      style="transform: translate(0px, -6px)"
    />
  </svg>
</template>

<script setup lang="ts">
import { computed, PropType, reactive } from "vue";
import { BaseColorVariant } from "bootstrap-vue-next";
import { getThemeColor } from "@/controllers";

const props = defineProps({
  variant: {
    type: String as PropType<keyof BaseColorVariant>,
    default: "primary",
  },
  outline: {
    type: String as PropType<keyof BaseColorVariant>,
    default: "dark",
  },
  background: {
    type: String as PropType<keyof BaseColorVariant | null | undefined>,
    default: undefined,
  },
});

const state = reactive({
  fill: computed(() => getThemeColor(props.variant)),
  outline: computed(() => getThemeColor(props.outline)),
  background: computed(() => getThemeColor(props.background!)),
});
</script>

<style scoped>
.wave-divider {
  aspect-ratio: 1440/320;
  background: no-repeat center;
  background-size: cover;
  color: var(--bs-primary);
}
</style>
